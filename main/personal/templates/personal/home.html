{% extends 'base.html' %}
{% block content %}
{% load static %}

<!-- <div id="myCarousel" class="carousel slide" data-ride="carousel" style="margin-top: -25px;">
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-inner" role="listbox" style="height: 400px;">
            {% for p in lista_imagens %}
            {% if forloop.counter == 1 %}
            <div class="item active">
                {% else %}
                <div class="item">
                    {% endif %}
                    <img src="{{ p.imagem.url }}" alt="Image" width="100%" height="50%">
                </div>
                {% endfor %}
            </div>
            <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</div> -->

<section id="Banner">
    <div class="mySCarousel">
        {% for p in lista_imagens %}
        <div class="item">
            <img src="{{ p.imagem.url }}" alt="Image">
        </div>
        {% endfor %}
    </div>
</section>

<section id="Produtos">
    <div class="container mx-auto" style="margin-top: 15px; text-align: center;">
        <div class="d-flex flex-column">
            <h2>Nossos Produtos</h2>
            <div class="container">
                <div class="slick-produtos">
                    {% for item in lista_produtos %}
                    <div>
                        <img src="{{ item.imagem.url }}">
                        <div>
                            <h4> {{ item.produto_name }}</h4>
                        </div>
                        <div class="aux hidden">
                            <p style="font-style: italic;">{{ item.descricao }}</p>
                        </div>
                    </div>
                    {% endfor %}

                </div>
            </div>
            <div class="container">
                <div class="slick-produtos-descricao" style="padding: 3%;text-align: center;">
                    {% for item in lista_produtos %}
                            <p>{{ item.descricao }}</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    <script>

    </script>
</section>

{% include 'snippets/historia.html' %}

<script>
    $(document).ready(function () {
        $('.mySCarousel').slick();

        $(".slick-produtos").slick({
            centerMode: true,
            focusOnSelect: true,
            // autoplay: true,
            speed: 500,
            dots: true,
            asNavFor: '.slick-produtos-descricao',
            centerPadding: '60px',
            slidesToShow: 3,
            infinite: true,
            pauseOnHover: true,
            pauseOnFocus: true,
            responsive: [{
                    breakpoint: 768,
                    settings: {
                        arrows: false,
                        centerMode: true,
                        centerPadding: '40px',
                        slidesToShow: 3
                    }
                },
                {
                    breakpoint: 480,
                    settings: {
                        arrows: false,
                        centerMode: true,
                        centerPadding: '40px',
                        slidesToShow: 1
                    }
                }
            ]
        });

        $('.slick-produtos-descricao').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: false,
            fade: true,
            asNavFor: '.slick-produtos'
        });
        // $('.slick-produtos-descricao').html($('.slick-produtos').find('.slick-center').find('.aux')[0]
        //     .innerHTML);

        // $('.slick-produtos').on('afterChange', function (event, slick, currentSlide) {
        //     $('.slick-produtos-descricao').html($(this).find('.slick-center').find('.aux')[0]
        //         .innerHTML);
        // });
    });
</script>
{% endblock content %}